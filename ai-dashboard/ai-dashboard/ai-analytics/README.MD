
========================
FILE: README.md
========================

# AI Reports Dashboard (FastAPI + LangGraph + Gemini)

This project implements a **chat-driven analytics dashboard** similar to
Autodesk ACC / Power BI Copilot.

Users can:
- Select a report
- View Excel data
- Ask natural language questions
- Get dynamic dashboards (charts + KPIs)

---

## ğŸ“ Project Structure

ai-reports-platform/
â”‚
â”œâ”€â”€ backend/
â”‚ â”œâ”€â”€ main.py
â”‚ â”œâ”€â”€ config.py
â”‚ â”œâ”€â”€ excel_loader.py
â”‚ â”œâ”€â”€ state.py
â”‚ â”‚
â”‚ â”œâ”€â”€ langgraph/
â”‚ â”‚ â”œâ”€â”€ runner.py
â”‚ â”‚ â””â”€â”€ agents/
â”‚ â”‚ â”œâ”€â”€ schema_agent.py
â”‚ â”‚ â”œâ”€â”€ intent_agent.py
â”‚ â”‚ â”œâ”€â”€ query_agent.py
â”‚ â”‚ â”œâ”€â”€ viz_agent.py
â”‚ â”‚ â”œâ”€â”€ kpi_agent.py
â”‚ â”‚ â””â”€â”€ insight_agent.py
â”‚ â”‚
â”‚ â”œâ”€â”€ utils/
â”‚ â”‚ â”œâ”€â”€ dataframe_utils.py
â”‚ â”‚ â”œâ”€â”€ schema_utils.py
â”‚ â”‚ â”œâ”€â”€ chart_utils.py
â”‚ â”‚ â”œâ”€â”€ kpi_utils.py
â”‚ â”‚ â””â”€â”€ prompt_utils.py
â”‚ â”‚
â”‚ â”œâ”€â”€ requirements.txt
â”‚ â””â”€â”€ .env
â”‚
â”œâ”€â”€ frontend/
â”‚ â”œâ”€â”€ reports.html
â”‚ â”œâ”€â”€ report-list.html
â”‚ â”œâ”€â”€ report-detail.html
â”‚ â”œâ”€â”€ css/
â”‚ â””â”€â”€ js/
â”‚
â””â”€â”€ data/
â””â”€â”€ projects/
â”œâ”€â”€ custom-report/
â”œâ”€â”€ project-report/
â””â”€â”€ document-report/

yaml
Copy code

---

## ğŸ“Š Data Rules (IMPORTANT)

data/projects/{report_type}/{report_id}/{project_name}.xlsx

yaml
Copy code

Rules:
- Exactly **ONE Excel file per report folder**
- Excel filename = **project name**
- Folder name = **report_id**
- Excel content = source of truth

Supported report types:
- `custom-report`
- `project-report`
- `document-report`

---

## ğŸ”‘ Gemini API Key Setup

### 1ï¸âƒ£ Create `.env` file

**backend/.env**
GOOGLE_API_KEY=YOUR_GEMINI_API_KEY

csharp
Copy code

### 2ï¸âƒ£ Load environment variables

At the **very top of `backend/main.py`**:
```python
from dotenv import load_dotenv
load_dotenv()
âš ï¸ This must be done before importing LangGraph agents.

â–¶ï¸ How to Run Backend
bash
Copy code
cd backend
pip install -r requirements.txt
uvicorn main:app --reload
Backend URL:

arduino
Copy code
http://localhost:8000
Health check:

bash
Copy code
GET http://localhost:8000/health
ğŸŒ Frontend Usage
Open directly in browser:

bash
Copy code
frontend/reports.html
Flow:

Choose report type

Select report ID

Excel table is displayed

Click chatbot icon

Enter prompt

Dashboard updates dynamically

Frontend uses:

HTML / CSS / JavaScript

Fetch API

ECharts for interactive charts

ğŸ” Runtime Flow
graphql
Copy code
User Prompt
   â†“
FastAPI /chat endpoint
   â†“
Excel loaded into pandas DataFrame
   â†“
LangGraph pipeline:
   schema â†’ intent â†’ query â†’ viz â†’ kpi â†’ insight
   â†“
Charts + KPIs returned
   â†“
Frontend renders dashboard
ğŸ§  Query Agent Design
LLM generates query plan (JSON)

Backend executes plan using pandas

No SQL

No eval

No dynamic code execution

Safe, deterministic, enterprise-grade.

ğŸ§ª Common Issues
API key is None
Ensure .env exists

Ensure load_dotenv() is called

Restart terminal

Start backend from backend/ directory

Charts not rendering
Check browser console

Verify backend /chat response

Ensure ECharts is loaded

âœ… Status
âœ” Backend complete
âœ” LangGraph agents wired
âœ” Excel-driven analytics
âœ” Frontend-ready APIs

ğŸš€ Optional Enhancements
Follow-up conversation memory

Date intelligence (month / quarter / year)

Auto chart selection

Auth & roles

Caching

ğŸ‘¨â€ğŸ’» Notes
This project is designed to be:

-Modular
-Deterministic
-Safe (LLM plans, code executes)
-Easy to extend